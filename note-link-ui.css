/* Note Link UI stylesheet
   version: v0.6.9-fix2 / No.13
   purpose : toolbar sizing, collapse arrow, active glow, topbar alignment
*/

/* ===== Theme ===== */
:root{
  --ink:#e5e7eb;        /* 文字・アイコン */
  --bg:#0b1020;         /* 背景 */
  --muted:#272a34;      /* 枠・境界 */
  --accent:#95c87b;     /* アクティブ縁 */
  --accent-weak:#7fb862;
  --shadow:0 0 1px rgba(0,0,0,.2), 0 6px 18px rgba(0,0,0,.35);
}

html,body{height:100%}
html{background:var(--bg); color:var(--ink); font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif}
*{box-sizing:border-box}

/* ===== Top bar ===== */
header.actions{
  display:flex; justify-content:space-between; align-items:center;
  gap:8px; padding:8px 10px; height:44px;
}
header .brand{opacity:.9}
.topbar button{
  height:30px; padding:0 10px; border-radius:10px;
  background:rgba(255,255,255,.05); color:var(--ink);
  border:1px solid var(--muted);
}
.topbar button:active{ transform:translateY(1px) }

/* ===== Layout ===== */
#wrap{display:grid; grid-template-columns: 56px 1fr; height:calc(100% - 44px)}
#sidebar{
  position:relative; padding:6px; border-right:1px solid var(--muted);
  background:rgba(0,0,0,.18); display:flex; flex-direction:column; gap:8px;
  overflow:hidden; transition:width .2s ease; width:56px;
}
#sidebar[data-collapsed="1"]{ width:44px; gap:6px; }
#sidebar .collapse{
  position:absolute; left:8px; top:8px; width:28px; height:28px;
  border-radius:8px; border:1px solid var(--muted);
  display:grid; place-items:center; background:rgba(255,255,255,.05);
  color:var(--ink); z-index:2;
}
#sidebar[data-collapsed="1"] .tool,
#sidebar[data-collapsed="1"] .gear{ margin-left:0 }

.tool, .gear{
  width:36px; height:36px; margin-left:2px;
  border-radius:10px; border:1px solid var(--muted);
  background:rgba(255,255,255,.04); color:var(--ink);
  display:grid; place-items:center; cursor:pointer;
  outline:2px solid transparent; transition:outline-color .12s, box-shadow .12s, transform .05s;
}
.tool svg, .gear svg{ width:18px; height:18px; fill:var(--ink); filter:brightness(1) grayscale(1) }
.tool:hover, .gear:hover{ outline-color:rgba(255,255,255,.12) }
.tool:active, .gear:active{ transform:translateY(1px) }

/* アクティブ強調（太めの緑グロー） */
.tool.active{
  box-shadow: 0 0 0 3px rgba(149,200,123,.25), 0 0 0 6px rgba(149,200,123,.15);
  border-color: var(--accent-weak);
}

/* 設定（ギア）は最下段に固定 */
.gear{ margin-top:auto }

/* ===== Board / Canvas ===== */
#board{ position:relative; overflow:hidden }
#canvas{ display:block; width:100%; height:100% }

/* ===== Panel ===== */
#panel{
  position:absolute; left:72px; top:72px; width:320px; padding:12px;
  background:rgba(18,22,30,.95); border:1px solid var(--muted);
  border-radius:14px; box-shadow:var(--shadow); z-index:5;
}
#panel .panel-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:10px }
#panel .panel-head button{
  height:28px; padding:0 10px; border-radius:8px; border:1px solid var(--muted);
  background:rgba(255,255,255,.06); color:var(--ink)
}
#panel .pane{ display:none }
#panel label{ display:flex; justify-content:space-between; align-items:center; gap:10px; margin:8px 0 }
#panel input[type="range"]{ width:190px }
#panel input[type="color"]{ appearance:none; width:32px; height:24px; border:1px solid var(--muted); padding:0 }
#panel .danger{ margin-top:6px; border:1px solid #d66; background:#8b1f2a; color:#fff; border-radius:8px; height:28px; padding:0 10px }

/* ===== Scrollbar（控えめ） ===== */
::-webkit-scrollbar{ width:10px; height:10px }
::-webkit-scrollbar-thumb{ background:#2a2f3a; border-radius:8px }
